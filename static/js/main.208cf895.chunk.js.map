{"version":3,"sources":["App.js","Artwork.js","Album.js","AlbumList.js","reportWebVitals.js","index.js","Dates.js"],"names":["App","dates","useDates","className","path","process","ENV","PUBLIC_URL","to","date","Artwork","artwork","width","height","alt","props","src","url","replaceAll","Modal","setAppElement","get","p","o","reduce","xs","x","Album","album","useState","modalIsOpen","setIsOpen","attributes","notes","title","closeModal","genre","genreNames","filter","a","year","Date","releaseDate","getFullYear","isOpen","onRequestClose","style","content","top","left","right","bottom","marginRight","transform","border","background","overflow","contentLabel","artistName","name","onClick","type","aria-label","href","contentRating","dangerouslySetInnerHTML","__html","setNotes","NewAlbumList","dateP","useParams","history","useHistory","albums","setAlbums","cache","addCache","picked","i","length","setDate","useEffect","fetch","res","json","data","value","onChange","e","target","push","map","id","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.208cf895.chunk.js","sourcesContent":["import './App.css';\nimport NewAlbumList from \"./AlbumList\";\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Redirect\n} from \"react-router-dom\";\nimport useDates from \"./Dates\";\n\nfunction App() {\n    const dates = useDates()\n    return (\n        <Router>\n        <div className=\"App\">\n            <Switch>\n            <Route path={`${process.ENV.PUBLIC_URL}/:date`}>\n                <NewAlbumList />}/>\n            </Route>\n            <Redirect to={`${process.ENV.PUBLIC_URL}/${dates[0].date}`} />\n            </Switch>\n        </div>\n        </Router>\n    );\n}\n\nexport default App;\n","export default function Artwork({artwork, width = 100, height = 100, alt = \"\", ...props}) {\n    return (\n        <>\n            <img className={'album-art'} src={artwork.url.replaceAll(\"{w}\", width).replaceAll(\"{h}\", height)}\n                 alt={alt} {...props} />\n        </>\n    )\n}\n","import {useState} from \"react\";\nimport Modal from \"react-modal\";\nimport Artwork from \"./Artwork\";\n\nModal.setAppElement('#root')\n\nconst get = p => o =>\n    p.reduce((xs, x) =>\n        (xs && xs[x]) ? xs[x] : null, o)\n\nexport default function Album({album}) {\n    const [modalIsOpen, setIsOpen] = useState(false);\n    const {attributes} = album\n    const notes = get(['editorialNotes', 'standard'])(attributes)\n    const title = get(['editorialNotes', 'short'])(attributes)\n    const openModal = () => setIsOpen(true)\n    const closeModal = () => setIsOpen(false)\n    const setNotes = (notes) => {\n        return {__html: notes};\n    }\n    const genre = attributes.genreNames.filter((a) => a !== 'Music')[0]\n    const year = new Date(attributes.releaseDate).getFullYear();\n    return <div className={'album'}>\n        <Modal\n            isOpen={modalIsOpen}\n            onRequestClose={closeModal}\n            className={'modal'}\n            style={{\n                content: {\n                    top: '50%',\n                    left: '50%',\n                    right: 'auto',\n                    bottom: 'auto',\n                    marginRight: '-50%',\n                    transform: 'translate(-50%, -50%)',\n                    border: '1px solid rgb(59, 59, 59)',\n                background: 'rgba(0, 0, 0, 0.9)',\n                    height: '500px',\n                    overflow: 'scroll' // <-- This tells the modal to scrol\n                }\n            }}\n            contentLabel={`${attributes.artistName} - ${attributes.name} album details`}\n        >\n            <div className={'close-wrapper'}>\n                <button className={'close-modal-btn'} onClick={closeModal} type={\"button\"} aria-label={\"close\"}>Ã—\n                </button>\n            </div>\n            <div className={'modal-wrapper'}>\n                <a href={attributes.url}>\n                    <Artwork title={title} className={'modal-album-art'} width={400} height={400}\n                             artwork={attributes.artwork}\n                             alt={`${attributes.artistName} - ${attributes.name} album artwork`}/>\n                </a>\n                <div className={'modal-album-details'}>\n                    <div>\n                        <h1 className={\"modal-album-name\"}>\n                            {album.attributes.name}\n                            <div className={\"explicit\"}>{attributes.contentRating === \"explicit\" && \"ðŸ…´\"}</div>\n                        </h1>\n                    </div>\n                    <div className={\"modal-artist-name\"}>\n                        <h1>\n                            {album.attributes.artistName}\n                        </h1>\n                    </div>\n                    <div className={\"modal-album-genre\"}>\n                        {genre} - {year}\n                    </div>\n                    <div className={'modal-notes-wrap'}>\n                        <p className={'modal-editors-notes'} dangerouslySetInnerHTML={setNotes(notes)}/>\n                    </div>\n                </div>\n            </div>\n        </Modal>\n\n        <Artwork title={title} width={200} height={200} artwork={attributes.artwork}\n                 alt={`${attributes.artistName} - ${attributes.name} album artwork`} onClick={() => openModal()}/>\n        <div className={\"artist-name\"}>\n            <p>\n                {album.attributes.artistName}\n            </p>\n            <span className={\"explicit\"}>{attributes.contentRating === \"explicit\" && \"ðŸ…´\"}</span>\n        </div>\n        <div>\n            <p className={\"album-name\"}>\n                {album.attributes.name}\n            </p>\n        </div>\n    </div>\n}\n","import {useEffect, useState} from \"react\";\nimport Album from \"./Album\";\nimport {useParams, useHistory} from \"react-router-dom\";\nimport useDates from \"./Dates\";\n\nexport default function NewAlbumList() {\n    const dates = useDates();\n    let {date: dateP} = useParams();\n    let history = useHistory();\n    const [albums, setAlbums] = useState([])\n    let [cache, addCache] = useState({})\n\n    let picked = 0;\n    for (let i = 0; i < dates.length; i++) {\n        if (dates[i][\"date\"] === dateP) {\n            picked = i\n            break\n        }\n    }\n    const [date, setDate] = useState(dates[picked])\n    useEffect(() => {\n        setDate(dates[picked])\n    }, [])\n\n    useEffect(() => {\n        (async ({date}) => {\n            if (cache[date]) {\n                setAlbums(cache[date]);\n                return\n            }\n            const res = await fetch(`/new-music-archive/archive/${date}.json`);\n            const {data} = await res.json();\n            cache[date] = data\n            addCache(cache)\n            setAlbums(data)\n        })(date)\n    }, [cache, date])\n    return (\n        <>\n            <select className={'date-selection'} value={date.date} name=\"dates\"\n                    onChange={(e) => {\n                        setDate({date: e.target.value})\n                        history.push(`/new-music-archive/${e.target.value}`)\n                    }}>\n                {dates.map(({name, date}) => {\n                    return (<option key={date} value={date}>{name}</option>)\n                })}\n            </select>\n            <div className={\"album-list\"}>{albums.map((album) => {\n                return <Album album={album} key={album.id}/>\n            })}</div>\n        </>\n    )\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","export default function useDates() {\n    return (\n        [\n            {date: '2021-08-13', name: \"Friday, August 13th 2021\"},\n            {date: '2021-08-06', name: \"Friday, August 6th 2021\"},\n            {date: '2021-07-30', name: \"Friday, July 30th 2021\"},\n            {date: '2021-07-23', name: \"Friday, July 23rd 2021\"},\n            {date: '2021-07-16', name: \"Friday, July 16th 2021\"},\n            {date: '2021-07-09', name: \"Friday, July 9th 2021\"},\n            {date: '2021-07-02', name: \"Friday, July 2nd 2021\"},\n            {date: '2021-06-25', name: \"Friday, June 25th 2021\"},\n            {date: '2021-06-18', name: \"Friday, June 18th 2021\"},\n            {date: '2021-06-11', name: \"Friday, June 11th 2021\"},\n            {date: '2021-06-04', name: \"Friday, June 4th 2021\"},\n            {date: '2021-05-28', name: \"Friday, May 28th 2021\"},\n            {date: '2021-05-21', name: \"Friday, May 21st 2021\"},\n            {date: '2021-05-14', name: \"Friday, May 14th 2021\"},\n            {date: '2021-05-07', name: \"Friday, May 7th 2021\"},\n        ]\n    )\n}\n"],"sourceRoot":""}